<!DOCTYPE html>
<html lang="en">

<head>
    <title>INVENTORY MANAGEMENT</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/table.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="./css/filter.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital@0;1&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
</head>

<body>
    <!-- Navigation Section -->
    <nav class="navbar navbar-default navbar-fixed-top navbar-shrink">
        <div class="container">
            <div class="navbar-header">
                <span class="navbar-brand">INVENTORY MANAGEMENT</span>
                <ul class="navbar-menu" id="menu-bar">
                    <li><a href="javascript:void(0)" onclick="showSection('inventory_list')">Inventory</a></li>
                    <li><a href="javascript:void(0)" onclick="showSection('orders_section')">Orders</a></li>
                    <li><a href="javascript:void(0)" onclick="showSection('')">Chart</a></li>
                    <li><a href="javascript:void(0)" onclick="showSection('')" id="auditLog">AuditLogs</a></li>
                </ul>
                <div class="navbar-right">
                    <button class="icon-button" id="notif_button" onclick="toggleModal('notificationsModal', this)">
                    </button>
                    <button class="icon-button" id="acc_button" onclick="toggleModal('accountModal', this)">
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="main-content">

        <!-- Login Section -->
        <div id="login_section">
            <form id="loginForm">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required><br>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required><br>
                <button type="submit">Login</button>
                <p id="loginNotif"></p>
            </form>
        </div>

        <!-- Filter Section -->
        <div id="inventory_filter">
            <label for="'selectAll" id="selectAllBox">
                Select All
                <input type="checkbox" id="selectAllCheckbox" onchange="toggleSelectAll(this)">
            </label>

            <label for="viewMode" id = "viewModeFilter">View Mode:</label>
            <select id="viewMode" onchange="changeViewMode()">
                <option value="product">Group by Product</option>
                <option value="location">Group by Location</option>
            </select>

            <label for="categoryFilter" id="categoryFilterContainer"> Item Category:</label>
            <select id="categoryFilter" onchange="filterInventoryByCategory()">
                <option value="">All Categories</option>
            </select>

            <label for="stateFilter" id="stateFilterContainer"> State:</label>
            <select id="stateFilter" onchange="filterInventoryByState()">
                <option value="">All Categories</option>
            </select>

            <label for="searchProductId" id="ProductIdFilter">Search by ProductID:
            <input type="text" id="searchProductId" placeholder="Enter ProductID">
            <button id = "searchIdProductButton" onclick="searchByProductId()">Search</button>
            </label>

            <label for="searchOrderId" id="OrderIdFilter">Search by OrderID:
            <input type="text" id="searchOrderId" placeholder="Enter OrderID">
            <button id = "searchIdOrderButton" onclick="searchByOrderId()">Search</button>
            </label>

            <label for="searchInventoryId" id="InventoryIdFilter">Search by InventoryID:
            <input type="text" id="searchInventoryId" placeholder="Enter InventoryID">
            <button id = "searchIdInventoryButton" onclick="searchByInventoryId()">Search</button>
            </label>

            <div id="activeFilters">
                <!-- Active filters will be dynamically displayed here -->
            </div>
        </div>
        
        <!-- Inventory List -->
        <div id="inventory_list">
            Loading inventory...
        </div>

        <!-- Order List Section -->
        <div id="orders_section" style="display: none;">
            <div id="orders_table">Loading orders...</div>
        </div>

        <!-- Low Stock List -->
        <div id="short_list" style="display: none;">
            Loading short list...
        </div>

        <div id="buttonContainer">
            <button id="adjustSelectedButton" style="display: none;" onclick="adjustSelectedItems()">Adjust Selected Items</button>
        </div>

        <div id="notificationsModal" class="modal">
            <div class="modal-overlay" onclick="toggleModal('notificationsModal')"></div>
            <div class="modal-content">
                <span class="close" onclick="toggleModal('notificationsModal')">&times;</span>
                <p id="notif"> 
                    <span class="material-symbols-outlined" style="color: lightgreen;">info</span>
                        You don't have any notification(s).</p>
            </div>
        </div>
    
        <div id="accountModal" class="modal">
            <div class="modal-overlay" onclick="toggleModal('accountModal')"></div>
            <div class="modal-content">
                <span class="close" onclick="toggleModal('accountModal')">&times;</span>
                <p id="user_greeting" style="display: none;"></p>
                <p id="user_info" style="display: none;"></p>
                <button id="logoutButton" style="display: none;">Logout</button>
            </div>
        </div>

        <div id="footer">
            <p id="footer"> CMSC 447 Project </p>
        </div>

    </div>

    <!-- JavaScript Imports -->
    <script src="./js/main.js"></script>
    <script src="./js/fetchInventory.js"></script>
    <script src="./js/filter.js"></script>
    <script src="./js/modal.js"></script>
</body>

</html>